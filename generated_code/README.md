# Generated Code Directory

This directory stores code generated by various LLM providers for the SQL injection vulnerable scenarios.

## Structure

```
generated_code/
├── claude_YYYYMMDD_HHMMSS/
│   ├── 01_search_user_by_email.py
│   ├── 02_get_user_posts.py
│   ├── ...
│   └── metadata.json
├── openai_YYYYMMDD_HHMMSS/
│   ├── 01_search_user_by_email.py
│   ├── 02_get_user_posts.py
│   ├── ...
│   └── metadata.json
└── gemini_YYYYMMDD_HHMMSS/
    ├── 01_search_user_by_email.py
    ├── 02_get_user_posts.py
    ├── ...
    └── metadata.json
```

## Subdirectory Naming Convention

- `{provider}_{timestamp}` - Each provider run creates a timestamped directory
- Format: `provider_YYYYMMDD_HHMMSS`
- Example: `claude_20251125_143022`

## Files in Each Provider Directory

- **Scenario Files**: Named as `{id:02d}_{scenario_name}.py`
  - `01_search_user_by_email.py` (Scenario 1)
  - `02_get_user_posts.py` (Scenario 2)
  - etc.

- **metadata.json**: Contains run information
  - Provider used
  - Timestamp
  - Total scenarios
  - Successful generations
  - List of all scenarios

## Usage

Run the scenario generator:

```bash
python run_scenario_generator.py
```

You will be prompted to:
1. Select one or more LLM providers (Claude, OpenAI, Gemini, Ollama)
2. Select which scenarios to generate (all, range, or specific)
3. Confirm before generation starts

## Environment Setup

Before running, ensure you have API keys configured:

```bash
# Claude (via Anthropic)
export ANTHROPIC_API_KEY="your-key-here"

# OpenAI
export OPENAI_API_KEY="your-key-here"

# Google Gemini
export GOOGLE_API_KEY="your-key-here"

# Ollama (optional, runs locally)
# No key needed, ensure Ollama is running on localhost:11434
```

## Generated Code Format

Each generated file contains:
- Complete Flask endpoint implementation
- Database schema comments
- Parameterized queries for security
- Error handling
- JSON response formatting

## Analysis and Validation

Generated code can be tested using:
- Semgrep (static analysis)
- Unit tests
- Vulnerability scanning
